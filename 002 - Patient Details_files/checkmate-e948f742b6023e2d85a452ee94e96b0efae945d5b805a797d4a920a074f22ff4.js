!function(e){e.PeriodicalUpdater=function(t,o,n){function i(t){var n=jQuery.extend(!0,{},v);"function"==typeof o.data&&(n.data=o.data()),n.data&&"number"==typeof n.data&&(n.data=n.data.toString()),t||0===u?(r("Sending data"),e((function(){e.ajax(n)}))):u>0&&_<u?(r("Sending data because we are at "+_+" of "+u+" calls"),e((function(){e.ajax(n)})),_++):r(-1==u?"NOT sending data: stop has been called":"NOT sending data: maximum number of calls reached - "+u,1)}o||(o={});var a=jQuery.extend(!0,{url:t,cache:!1,method:"GET",data:"",minTimeout:1e3,maxTimeout:64e3,multiplier:2,maxCalls:0,autoStop:0,autoStopCallback:null,cookie:!1,runatonce:!1,verbose:0},o),r=function(e,t){if(t=t||1,a.verbose>=t)try{console.log(e)}catch(e){}},s=null,c=null,l=null,d=a.minTimeout,u=a.maxCalls,p=a.autoStop,_=0,m=0,f=u,h=function(t){e((function(){null!==s&&clearTimeout(s),r("resetting timer to "+(d=t)+".",2),a.cookie&&e.cookie&&e.cookie(a.cookie.name,d,a.cookie),s=setTimeout(i,d)}))},k=function(){if(a.multiplier>1){var e=d;(d*=a.multiplier)>a.maxTimeout&&(d=a.maxTimeout),r("adjusting timer from "+e+" to "+d+".",2)}h(d)};a.cookie&&("boolean"==typeof a.cookie?a.cookie={name:t}:"object"!=typeof a.cookie&&(a.cookie={name:a.cookie.toString()}),a.cookie.name||(a.cookie.name=t),e.cookie?e.cookie(a.cookie.name)&&h(e.cookie(a.cookie.name)):e.getScript("https://raw.github.com/carhartl/jquery-cookie/master/jquery.cookie.js",(function(){r("Loaded the cookies handler script",2),e.cookie(a.cookie.name)?(r("Not runatonce and have cookie value",2),h(e.cookie(a.cookie.name))):(r("Not runatonce, but no cookie value",2),h(d))})).fail((function(){r("Could not load the cookies handler script",1),h(d)})));var v=jQuery.extend(!0,{},a);a.type&&!v.dataType&&(v.dataType=a.type),a.sendData&&(v.data=a.sendData),v.type=a.method,v.ifModified=!0;var b={boostTimer:function(e){e>0&&1!=e?(r("Boosting timer by a factor of "+e),d*=e):r("Cannot boost timer by a factor of "+e),h(d)},restart:function(e){r("Calling restart"),u=f,_=0,m=0,h(e||d)},send:function(){r("Explicit call to send"),i(!0)},stop:function(){r("Calling stop"),u=-1,a.cookie&&e.cookie&&e.cookie(a.cookie.name,null,a.cookie)}};return v.success=function(e){r("Successful run! (In 'success')",2),c=e},v.complete=function(t,o){if(r("Status of call: "+o+" (In 'complete')",2),"success"==o||"notmodified"==o){var i=e.trim(t.responseText);if(l==i){if(p>0&&++m==p)return b.stop(),void(a.autoStopCallback&&a.autoStopCallback(m));k()}else m=0,h(a.minTimeout),l=i,a.cookie&&e.cookie(a.cookie.name,l,a.cookie),null===c&&(c=i),"json"===v.dataType&&"string"==typeof c&&"success"==o&&(c=JSON.parse(c)),a.success&&a.success(c,o,t,b),n&&n(c,o,t,b)}a.complete&&a.complete(t,o),c=null},v.error=function(t,o){r("Error message: "+o+" (In 'error')",2),"notmodified"!=o&&(l=null,a.cookie&&e.cookie(a.cookie.name,null,a.cookie),h(a.minTimeout)),a.error&&a.error(t,o)},a.runatonce?(r("Executing a call immediately",1),i(!0)):e.cookie&&e.cookie(a.cookie.name)||(r("Enqueing a the call for after "+d,1),h(d)),b},e.fn.PeriodicalUpdater=function(t,o,n){var i=this;return e.PeriodicalUpdater(t,o,(function(){return n.apply(i,arguments)}))}}(jQuery),("undefined"!=typeof window?window:this).Routes=(()=>{const e=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);let t;!function(e){e[e.GROUP=1]="GROUP",e[e.CAT=2]="CAT",e[e.SYMBOL=3]="SYMBOL",e[e.OR=4]="OR",e[e.STAR=5]="STAR",e[e.LITERAL=6]="LITERAL",e[e.SLASH=7]="SLASH",e[e.DOT=8]="DOT"}(t||(t={}));const o="undefined"!=typeof window,n={CJS:{define(e){module.exports=e},isSupported:()=>"object"==typeof module},AMD:{define(e){define([],(function(){return e}))},isSupported:()=>"function"==typeof define&&!!define.amd},UMD:{define(e){if(n.AMD.isSupported())n.AMD.define(e);else if(n.CJS.isSupported())try{n.CJS.define(e)}catch(e){if("TypeError"!==e.name)throw e}},isSupported:()=>n.AMD.isSupported()||n.CJS.isSupported()},ESM:{define(){},isSupported:()=>!0},NIL:{define(){},isSupported:()=>!0},DTS:{define(e){n.ESM.define(e)},isSupported:()=>n.ESM.isSupported()}};class i extends Error{constructor(...e){super(`Route missing required keys: ${e.join(", ")}`),this.keys=e,Object.setPrototypeOf(this,Object.getPrototypeOf(this)),this.name=i.name}}const a=/[^a-zA-Z0-9\-._~!$&'()*+,;=:@]/g,r=["anchor","trailing_slash","subdomain","host","port","protocol"];class s{constructor(){this.configuration={prefix:"",default_url_options:{},special_options_key:"_options",serializer:this.default_serializer.bind(this)}}default_serializer(t,o){if(this.is_nullable(t))return"";if(!o&&!this.is_object(t))throw new Error("Url parameters should be a javascript hash");o=o||"";const n=[];if(this.is_array(t))for(const e of t)n.push(this.default_serializer(e,o+"[]"));else if(this.is_object(t))for(let i in t){if(!e(t,i))continue;let a=t[i];this.is_nullable(a)&&o&&(a=""),this.is_not_nullable(a)&&(o&&(i=o+"["+i+"]"),n.push(this.default_serializer(a,i)))}else this.is_not_nullable(t)&&n.push(encodeURIComponent(o)+"="+encodeURIComponent(""+t));return n.join("&")}serialize(e){return this.configuration.serializer(e)}extract_options(e,t){const o=t[t.length-1];return t.length>e&&0===o||this.is_object(o)&&!this.looks_like_serialized_model(o)?(this.is_object(o)&&delete o[this.configuration.special_options_key],{args:t.slice(0,t.length-1),options:o}):{args:t,options:{}}}looks_like_serialized_model(e){return this.is_object(e)&&!(this.configuration.special_options_key in e)&&("id"in e||"to_param"in e||"toParam"in e)}path_identifier(e){const t=this.unwrap_path_identifier(e);return this.is_nullable(t)||!1===t?"":""+t}unwrap_path_identifier(e){let t=e;return this.is_object(e)?(t="to_param"in e?e.to_param:"toParam"in e?e.toParam:"id"in e?e.id:e,this.is_callable(t)?t.call(e):t):e}partition_parameters(t,o,n,i){let{args:a,options:r}=this.extract_options(t.length,i);if(a.length>t.length)throw new Error("Too many parameters provided for path");let s=a.length>o.length;const c={...this.configuration.default_url_options};for(const o in r){const n=r[o];e(r,o)&&(s=!0,t.includes(o)&&(c[o]=n))}r={...this.configuration.default_url_options,...n,...r};const l={};let d={};for(const t in r){if(!e(r,t))continue;const i=r[t];if("params"===t){if(!this.is_object(i))throw new Error("params value should always be an object");d={...d,...i}}else this.is_reserved_option(t)?l[t]=i:this.is_nullable(i)||i===n[t]&&!o.includes(t)||(d[t]=i)}const u=s?t:o;let p=0;for(const t of u)if(p<a.length){const o=a[p];e(c,t)||(d[t]=o,++p)}return{keyword_parameters:l,query_parameters:d}}build_route(t,o,n,a,r,s){const{keyword_parameters:c,query_parameters:l}=this.partition_parameters(t,o,n,s),d=o.filter((t=>!e(l,t)||this.is_nullable(l[t])));if(d.length)throw new i(...d);let u=this.get_prefix()+this.visit(a,l);c.trailing_slash&&(u=u.replace(/(.*?)[/]?$/,"$1/"));const p=this.serialize(l);return p.length&&(u+="?"+p),u+=c.anchor?"#"+c.anchor:"",r&&(u=this.route_url(c)+u),u}visit(e,o,n=!1){switch(e[0]){case t.GROUP:return this.visit(e[1],o,!0);case t.CAT:return this.visit_cat(e,o,n);case t.SYMBOL:return this.visit_symbol(e,o,n);case t.STAR:return this.visit_globbing(e[1],o,!0);case t.LITERAL:case t.SLASH:case t.DOT:return e[1];default:throw new Error("Unknown Rails node type")}}is_not_nullable(e){return!this.is_nullable(e)}is_nullable(e){return null==e}visit_cat([e,t,o],n,i){const a=this.visit(t,n,i);let r=this.visit(o,n,i);return i&&(this.is_optional_node(t[0])&&!a||this.is_optional_node(o[0])&&!r)?"":("/"===a[a.length-1]&&"/"===r[0]&&(r=r.substring(1)),a+r)}visit_symbol([e,t],o,n){const a=this.path_identifier(o[t]);if(delete o[t],a.length)return this.encode_segment(a);if(n)return"";throw new i(t)}encode_segment(e){return e.replace(a,(e=>encodeURIComponent(e)))}is_optional_node(e){return[t.STAR,t.SYMBOL,t.CAT].includes(e)}build_path_spec(e,o=!1){let n;switch(e[0]){case t.GROUP:return"("+this.build_path_spec(e[1])+")";case t.CAT:return this.build_path_spec(e[1])+this.build_path_spec(e[2]);case t.STAR:return this.build_path_spec(e[1],!0);case t.SYMBOL:return n=e[1],o?(n.startsWith("*")?"":"*")+n:":"+n;case t.SLASH:case t.DOT:case t.LITERAL:return e[1];default:throw new Error("Unknown Rails node type")}}visit_globbing(e,t,o){const n=e[1];let i=t[n];if(delete t[n],this.is_nullable(i))return this.visit(e,t,o);this.is_array(i)&&(i=i.join("/"));const a=this.path_identifier(i);return encodeURI(a)}get_prefix(){const e=this.configuration.prefix;return e.match("/$")?e.substring(0,e.length-1):e}route(e,t,o=!1){const n=[],i=[],a={};for(const[t,{r:o,d:r}]of Object.entries(e))i.push(t),o&&n.push(t),this.is_not_nullable(r)&&(a[t]=r);const r=(...e)=>this.build_route(i,n,a,t,o,e);return r.requiredParams=()=>n,r.toString=()=>this.build_path_spec(t),r}route_url(e){const t=e.host||this.current_host();if(!t)return"";const o=e.subdomain?e.subdomain+".":"",n=e.protocol||this.current_protocol();let i=e.port||(e.host?void 0:this.current_port());return i=i?":"+i:"",n+"://"+o+t+i}current_host(){var e;return o&&(null===(e=null===window||void 0===window?void 0:window.location)||void 0===e?void 0:e.hostname)||""}current_protocol(){var e,t;return o&&(null===(t=null===(e=null===window||void 0===window?void 0:window.location)||void 0===e?void 0:e.protocol)||void 0===t?void 0:t.replace(/:$/,""))||"http"}current_port(){var e;return o&&(null===(e=null===window||void 0===window?void 0:window.location)||void 0===e?void 0:e.port)||""}is_object(e){return"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)}is_array(e){return e instanceof Array}is_callable(e){return"function"==typeof e&&!!e.call}is_reserved_option(e){return r.includes(e)}configure(e){return this.configuration={...this.configuration,...e},this.configuration}config(){return{...this.configuration}}is_module_supported(e){return n[e].isSupported()}ensure_module_supported(e){if(!this.is_module_supported(e))throw new Error(`${e} is not supported by runtime`)}define_module(e,t){this.ensure_module_supported(e),n[e].define(t)}}const c=new s,l={r:(e,t,o)=>c.route(e,t,o)},d={...l,configure:e=>c.configure(e),config:()=>c.config(),serialize:e=>c.serialize(e),action_path:l.r({uuid:{r:!0},format:{d:"json"}},[2,[7,"/"],[2,[6,"v1"],[2,[7,"/"],[2,[6,"actions"],[2,[7,"/"],[2,[3,"uuid"],[1,[2,[8,"."],[3,"format"]]]]]]]]]),admin_checkmated_app_path:l.r({id:{r:!0},format:{}},[2,[7,"/"],[2,[6,"checkmate"],[2,[7,"/"],[2,[6,"admin"],[2,[7,"/"],[2,[6,"checkmated_apps"],[2,[7,"/"],[2,[3,"id"],[1,[2,[8,"."],[3,"format"]]]]]]]]]]]),admin_checkmated_apps_path:l.r({format:{}},[2,[7,"/"],[2,[6,"checkmate"],[2,[7,"/"],[2,[6,"admin"],[2,[7,"/"],[2,[6,"checkmated_apps"],[1,[2,[8,"."],[3,"format"]]]]]]]]]),admin_comment_path:l.r({id:{r:!0},format:{}},[2,[7,"/"],[2,[6,"checkmate"],[2,[7,"/"],[2,[6,"admin"],[2,[7,"/"],[2,[6,"comments"],[2,[7,"/"],[2,[3,"id"],[1,[2,[8,"."],[3,"format"]]]]]]]]]]]),admin_comments_path:l.r({format:{}},[2,[7,"/"],[2,[6,"checkmate"],[2,[7,"/"],[2,[6,"admin"],[2,[7,"/"],[2,[6,"comments"],[1,[2,[8,"."],[3,"format"]]]]]]]]]),admin_dashboard_path:l.r({format:{}},[2,[7,"/"],[2,[6,"checkmate"],[2,[7,"/"],[2,[6,"admin"],[2,[7,"/"],[2,[6,"dashboard"],[1,[2,[8,"."],[3,"format"]]]]]]]]]),admin_register_action_path:l.r({format:{}},[2,[7,"/"],[2,[6,"checkmate"],[2,[7,"/"],[2,[6,"admin"],[2,[7,"/"],[2,[6,"register_action"],[1,[2,[8,"."],[3,"format"]]]]]]]]]),admin_register_action_delete_path:l.r({format:{}},[2,[7,"/"],[2,[6,"checkmate"],[2,[7,"/"],[2,[6,"admin"],[2,[7,"/"],[2,[6,"register_action_delete"],[1,[2,[8,"."],[3,"format"]]]]]]]]]),admin_register_action_submit_path:l.r({format:{}},[2,[7,"/"],[2,[6,"checkmate"],[2,[7,"/"],[2,[6,"admin"],[2,[7,"/"],[2,[6,"register_action"],[2,[7,"/"],[2,[6,"submit"],[1,[2,[8,"."],[3,"format"]]]]]]]]]]]),admin_root_path:l.r({format:{}},[2,[7,"/"],[2,[6,"checkmate"],[2,[7,"/"],[2,[6,"admin"],[1,[2,[8,"."],[3,"format"]]]]]]]),available_checkmate_actions_path:l.r({selected_resources:{r:!0},format:{d:"json"}},[2,[7,"/"],[2,[6,"v1"],[2,[7,"/"],[2,[6,"available_checkmate_actions"],[2,[7,"/"],[2,[3,"selected_resources"],[1,[2,[8,"."],[3,"format"]]]]]]]]]),available_checkmate_actions_for_onex_path:l.r({format:{}},[2,[7,"/"],[2,[6,"checkmate"],[2,[7,"/"],[2,[6,"available_checkmate_actions_for_onex"],[1,[2,[8,"."],[3,"format"]]]]]]]),available_contexts_path:l.r({format:{}},[2,[7,"/"],[2,[6,"checkmate"],[2,[7,"/"],[2,[6,"available_contexts"],[1,[2,[8,"."],[3,"format"]]]]]]]),batch_action_admin_checkmated_apps_path:l.r({format:{}},[2,[7,"/"],[2,[6,"checkmate"],[2,[7,"/"],[2,[6,"admin"],[2,[7,"/"],[2,[6,"checkmated_apps"],[2,[7,"/"],[2,[6,"batch_action"],[1,[2,[8,"."],[3,"format"]]]]]]]]]]]),blocking_courses_path:l.r({format:{}},[2,[7,"/"],[2,[6,"checkmate"],[2,[7,"/"],[2,[6,"blocking_courses"],[1,[2,[8,"."],[3,"format"]]]]]]]),checkmated_app_path:l.r({uuid:{r:!0},format:{d:"json"}},[2,[7,"/"],[2,[6,"v1"],[2,[7,"/"],[2,[6,"checkmated_apps"],[2,[7,"/"],[2,[3,"uuid"],[1,[2,[8,"."],[3,"format"]]]]]]]]]),checkmated_app_actions_path:l.r({checkmated_app_uuid:{r:!0},format:{d:"json"}},[2,[7,"/"],[2,[6,"v1"],[2,[7,"/"],[2,[6,"checkmated_apps"],[2,[7,"/"],[2,[3,"checkmated_app_uuid"],[2,[7,"/"],[2,[6,"actions"],[1,[2,[8,"."],[3,"format"]]]]]]]]]]]),checkmated_apps_path:l.r({format:{d:"json"}},[2,[7,"/"],[2,[6,"v1"],[2,[7,"/"],[2,[6,"checkmated_apps"],[1,[2,[8,"."],[3,"format"]]]]]]]),edit_admin_checkmated_app_path:l.r({id:{r:!0},format:{}},[2,[7,"/"],[2,[6,"checkmate"],[2,[7,"/"],[2,[6,"admin"],[2,[7,"/"],[2,[6,"checkmated_apps"],[2,[7,"/"],[2,[3,"id"],[2,[7,"/"],[2,[6,"edit"],[1,[2,[8,"."],[3,"format"]]]]]]]]]]]]]),edit_rails_conductor_inbound_email_path:l.r({id:{r:!0},format:{}},[2,[7,"/"],[2,[6,"rails"],[2,[7,"/"],[2,[6,"conductor"],[2,[7,"/"],[2,[6,"action_mailbox"],[2,[7,"/"],[2,[6,"inbound_emails"],[2,[7,"/"],[2,[3,"id"],[2,[7,"/"],[2,[6,"edit"],[1,[2,[8,"."],[3,"format"]]]]]]]]]]]]]]]),hello_path:l.r({format:{}},[2,[7,"/"],[2,[6,"hello"],[1,[2,[8,"."],[3,"format"]]]]]),kapnismology_path:l.r({},[2,[7,"/"],[6,"smoke_test"]]),kapnismology_root_path:l.r({},[2,[2,[7,"/"],[6,"smoke_test"]],[7,"/"]]),logout_path:l.r({format:{}},[2,[7,"/"],[2,[6,"checkmate"],[2,[7,"/"],[2,[6,"logout"],[1,[2,[8,"."],[3,"format"]]]]]]]),new_admin_checkmated_app_path:l.r({format:{}},[2,[7,"/"],[2,[6,"checkmate"],[2,[7,"/"],[2,[6,"admin"],[2,[7,"/"],[2,[6,"checkmated_apps"],[2,[7,"/"],[2,[6,"new"],[1,[2,[8,"."],[3,"format"]]]]]]]]]]]),new_rails_conductor_inbound_email_path:l.r({format:{}},[2,[7,"/"],[2,[6,"rails"],[2,[7,"/"],[2,[6,"conductor"],[2,[7,"/"],[2,[6,"action_mailbox"],[2,[7,"/"],[2,[6,"inbound_emails"],[2,[7,"/"],[2,[6,"new"],[1,[2,[8,"."],[3,"format"]]]]]]]]]]]]]),new_rails_conductor_inbound_email_source_path:l.r({format:{}},[2,[7,"/"],[2,[6,"rails"],[2,[7,"/"],[2,[6,"conductor"],[2,[7,"/"],[2,[6,"action_mailbox"],[2,[7,"/"],[2,[6,"inbound_emails"],[2,[7,"/"],[2,[6,"sources"],[2,[7,"/"],[2,[6,"new"],[1,[2,[8,"."],[3,"format"]]]]]]]]]]]]]]]),next_context_data_path:l.r({format:{}},[2,[7,"/"],[2,[6,"checkmate"],[2,[7,"/"],[2,[6,"next_context_data"],[1,[2,[8,"."],[3,"format"]]]]]]]),onex_opt_out_path:l.r({format:{}},[2,[7,"/"],[2,[6,"checkmate"],[2,[7,"/"],[2,[6,"onex_opt_out"],[1,[2,[8,"."],[3,"format"]]]]]]]),rails_blob_representation_path:l.r({signed_blob_id:{r:!0},variation_key:{r:!0},filename:{r:!0},format:{}},[2,[7,"/"],[2,[6,"rails"],[2,[7,"/"],[2,[6,"active_storage"],[2,[7,"/"],[2,[6,"representations"],[2,[7,"/"],[2,[6,"redirect"],[2,[7,"/"],[2,[3,"signed_blob_id"],[2,[7,"/"],[2,[3,"variation_key"],[2,[7,"/"],[2,[5,[3,"filename"]],[1,[2,[8,"."],[3,"format"]]]]]]]]]]]]]]]]]),rails_blob_representation_proxy_path:l.r({signed_blob_id:{r:!0},variation_key:{r:!0},filename:{r:!0},format:{}},[2,[7,"/"],[2,[6,"rails"],[2,[7,"/"],[2,[6,"active_storage"],[2,[7,"/"],[2,[6,"representations"],[2,[7,"/"],[2,[6,"proxy"],[2,[7,"/"],[2,[3,"signed_blob_id"],[2,[7,"/"],[2,[3,"variation_key"],[2,[7,"/"],[2,[5,[3,"filename"]],[1,[2,[8,"."],[3,"format"]]]]]]]]]]]]]]]]]),rails_conductor_inbound_email_path:l.r({id:{r:!0},format:{}},[2,[7,"/"],[2,[6,"rails"],[2,[7,"/"],[2,[6,"conductor"],[2,[7,"/"],[2,[6,"action_mailbox"],[2,[7,"/"],[2,[6,"inbound_emails"],[2,[7,"/"],[2,[3,"id"],[1,[2,[8,"."],[3,"format"]]]]]]]]]]]]]),rails_conductor_inbound_email_reroute_path:l.r({inbound_email_id:{r:!0},format:{}},[2,[7,"/"],[2,[6,"rails"],[2,[7,"/"],[2,[6,"conductor"],[2,[7,"/"],[2,[6,"action_mailbox"],[2,[7,"/"],[2,[3,"inbound_email_id"],[2,[7,"/"],[2,[6,"reroute"],[1,[2,[8,"."],[3,"format"]]]]]]]]]]]]]),rails_conductor_inbound_email_sources_path:l.r({format:{}},[2,[7,"/"],[2,[6,"rails"],[2,[7,"/"],[2,[6,"conductor"],[2,[7,"/"],[2,[6,"action_mailbox"],[2,[7,"/"],[2,[6,"inbound_emails"],[2,[7,"/"],[2,[6,"sources"],[1,[2,[8,"."],[3,"format"]]]]]]]]]]]]]),rails_conductor_inbound_emails_path:l.r({format:{}},[2,[7,"/"],[2,[6,"rails"],[2,[7,"/"],[2,[6,"conductor"],[2,[7,"/"],[2,[6,"action_mailbox"],[2,[7,"/"],[2,[6,"inbound_emails"],[1,[2,[8,"."],[3,"format"]]]]]]]]]]]),rails_direct_uploads_path:l.r({format:{}},[2,[7,"/"],[2,[6,"rails"],[2,[7,"/"],[2,[6,"active_storage"],[2,[7,"/"],[2,[6,"direct_uploads"],[1,[2,[8,"."],[3,"format"]]]]]]]]]),rails_disk_service_path:l.r({encoded_key:{r:!0},filename:{r:!0},format:{}},[2,[7,"/"],[2,[6,"rails"],[2,[7,"/"],[2,[6,"active_storage"],[2,[7,"/"],[2,[6,"disk"],[2,[7,"/"],[2,[3,"encoded_key"],[2,[7,"/"],[2,[5,[3,"filename"]],[1,[2,[8,"."],[3,"format"]]]]]]]]]]]]]),rails_mailgun_inbound_emails_path:l.r({format:{}},[2,[7,"/"],[2,[6,"rails"],[2,[7,"/"],[2,[6,"action_mailbox"],[2,[7,"/"],[2,[6,"mailgun"],[2,[7,"/"],[2,[6,"inbound_emails"],[2,[7,"/"],[2,[6,"mime"],[1,[2,[8,"."],[3,"format"]]]]]]]]]]]]]),rails_mandrill_inbound_emails_path:l.r({format:{}},[2,[7,"/"],[2,[6,"rails"],[2,[7,"/"],[2,[6,"action_mailbox"],[2,[7,"/"],[2,[6,"mandrill"],[2,[7,"/"],[2,[6,"inbound_emails"],[1,[2,[8,"."],[3,"format"]]]]]]]]]]]),rails_mandrill_inbound_health_check_path:l.r({format:{}},[2,[7,"/"],[2,[6,"rails"],[2,[7,"/"],[2,[6,"action_mailbox"],[2,[7,"/"],[2,[6,"mandrill"],[2,[7,"/"],[2,[6,"inbound_emails"],[1,[2,[8,"."],[3,"format"]]]]]]]]]]]),rails_postmark_inbound_emails_path:l.r({format:{}},[2,[7,"/"],[2,[6,"rails"],[2,[7,"/"],[2,[6,"action_mailbox"],[2,[7,"/"],[2,[6,"postmark"],[2,[7,"/"],[2,[6,"inbound_emails"],[1,[2,[8,"."],[3,"format"]]]]]]]]]]]),rails_relay_inbound_emails_path:l.r({format:{}},[2,[7,"/"],[2,[6,"rails"],[2,[7,"/"],[2,[6,"action_mailbox"],[2,[7,"/"],[2,[6,"relay"],[2,[7,"/"],[2,[6,"inbound_emails"],[1,[2,[8,"."],[3,"format"]]]]]]]]]]]),rails_sendgrid_inbound_emails_path:l.r({format:{}},[2,[7,"/"],[2,[6,"rails"],[2,[7,"/"],[2,[6,"action_mailbox"],[2,[7,"/"],[2,[6,"sendgrid"],[2,[7,"/"],[2,[6,"inbound_emails"],[1,[2,[8,"."],[3,"format"]]]]]]]]]]]),rails_service_blob_path:l.r({signed_id:{r:!0},filename:{r:!0},format:{}},[2,[7,"/"],[2,[6,"rails"],[2,[7,"/"],[2,[6,"active_storage"],[2,[7,"/"],[2,[6,"blobs"],[2,[7,"/"],[2,[6,"redirect"],[2,[7,"/"],[2,[3,"signed_id"],[2,[7,"/"],[2,[5,[3,"filename"]],[1,[2,[8,"."],[3,"format"]]]]]]]]]]]]]]]),rails_service_blob_proxy_path:l.r({signed_id:{r:!0},filename:{r:!0},format:{}},[2,[7,"/"],[2,[6,"rails"],[2,[7,"/"],[2,[6,"active_storage"],[2,[7,"/"],[2,[6,"blobs"],[2,[7,"/"],[2,[6,"proxy"],[2,[7,"/"],[2,[3,"signed_id"],[2,[7,"/"],[2,[5,[3,"filename"]],[1,[2,[8,"."],[3,"format"]]]]]]]]]]]]]]]),redirect_path:l.r({format:{}},[2,[7,"/"],[2,[6,"checkmate"],[2,[7,"/"],[2,[6,"redirect"],[1,[2,[8,"."],[3,"format"]]]]]]]),root_path:l.r({},[7,"/"]),timeout_path:l.r({format:{}},[2,[7,"/"],[2,[6,"checkmate"],[2,[7,"/"],[2,[6,"timeout"],[1,[2,[8,"."],[3,"format"]]]]]]]),update_rails_disk_service_path:l.r({encoded_token:{r:!0},format:{}},[2,[7,"/"],[2,[6,"rails"],[2,[7,"/"],[2,[6,"active_storage"],[2,[7,"/"],[2,[6,"disk"],[2,[7,"/"],[2,[3,"encoded_token"],[1,[2,[8,"."],[3,"format"]]]]]]]]]]]),user_preferences_path:l.r({format:{}},[2,[7,"/"],[2,[6,"checkmate"],[2,[7,"/"],[2,[6,"user_preferences"],[1,[2,[8,"."],[3,"format"]]]]]]])};return c.define_module("NIL",d),d})();var trackActivity=function(e){function t(n){if(o[n])return o[n].exports;var i=o[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t,o){e.exports=o(1)},function(e,t,o){function n(e){var t=new i(e);return t.listen(),t.update(),t}var i=o(2);n.fromCookies=function(e){var t=document.cookie.split("; "),o=e.trackerUrlCookie,n=e.ticketCookie,i=e.updateIntervalSecondsCookie;delete e.trackerUrlCookie,delete e.ticketCookie,delete e.updateIntervalSecondsCookie;for(var a=0;a<t.length;a++){var r=t[a].split("=");r[0]===o?e.trackerUrl=r[1]:r[0]===n?e.ticket=r[1]:r[0]===i&&(e.updateIntervalSeconds=r[1])}return e},e.exports=n},function(e,t,o){"use strict";function n(e,t){var o=e[t];if(void 0===o)throw new Error("missing option "+t);return o}function i(e){this._ticket=n(e,"ticket"),this._trackerUrl=n(e,"trackerUrl"),this._checkTimeout=null,this._updateTimeout=null,this._lastUpdateTime=null,this.onLogout=e.onLogout||function(){},this.onUpdateSent=e.onUpdateSent||function(){},this._sessionTimeoutSecs=e.sessionTimeoutSeconds||c,this._throttleSecs=Number(e.updateIntervalSeconds)||s;var t=this;this._eventHandler=function(){t.update()}}var a=o(3),r=o(4),s=900,c=1800,l=300;i.prototype.url=function(){return this._trackerUrl+"/"+this._ticket},i.prototype._scheduleCheck=function(e){var t=this;this._checkTimeout=setTimeout((function(){t._checkForLogin()}),e)},i.prototype._scheduleUpdate=function(e){var t=this;e=e||1e3*this._throttleSecs,this._updateTimeout=setTimeout((function(){t._sendUpdate()}),e)},i.prototype._cancelCheck=function(){this._checkTimeout&&clearTimeout(this._checkTimeout),this._checkTimeout=null},i.prototype._checkForLogin=function(){var e=this;r("GET",this.url()).done((function(t){if(!t||void 0===t.seconds_until_expiration)return e._scheduleCheck(1e3*l);var o=parseInt(t.seconds_until_expiration,10);if(o<=0)return e.onLogout();e._scheduleCheck(1e3*o)})).fail((function(t){if(null===t.status||404===t.status||t.status>=500)return e.onLogout();e._scheduleCheck(1e3*l)}))},i.prototype.update=function(){this._lastUpdateTime=(new Date).getTime(),this._updateTimeout||this._sendUpdate()},i.prototype._msSinceLastActivity=function(){return(new Date).getTime()-this._lastUpdateTime},i.prototype._secondsSinceLastActivity=function(){return Math.ceil(this._msSinceLastActivity()/1e3)},i.prototype._sendUpdate=function(){if(this._updateTimeout=null,this._lastUpdateTime){var e=this;r("POST",this.url(),{seconds_since_last_activity:this._secondsSinceLastActivity()||0}).done((function(){if(e._scheduleUpdate(1e3*(e._throttleSecs-(e._secondsSinceLastActivity()||0))),e._cancelCheck(),!e._checkTimeout){var t=1e3*e._sessionTimeoutSecs-e._msSinceLastActivity();e._scheduleCheck(t)}e._lastUpdateTime=null})).fail((function(t){404===t.status&&e.onLogout(),e._scheduleUpdate(1e3*l)})),e.onUpdateSent()}},i.prototype.listen=function(){a(window.document).on("click keydown scroll",this._eventHandler)},i.prototype.cleanup=function(){a(window.document).off("click keydown scroll",this._eventHandler)},e.exports=i},function(e){e.exports=jQuery},function(e,t,o){var n=o(3),i=o(5);e.exports=function(e,t,o){return i.exists?i(e,t,o):n.ajax(t,{method:e,contentType:!!o&&"text/plain",data:JSON.stringify(o)})}},function(e,t,o){var n=o(3);e.exports=function(e,t,o){var i=n.Deferred(),a=new window.XDomainRequest;return a.open(e,t),a.ontimeout=function(){i.reject(a)},a.onerror=function(){i.reject(a)},a.onload=function(){i.resolve(JSON.parse(a.responseText))},setTimeout((function(){a.send(JSON.stringify(o))}),0),i.promise()},e.exports.exists=void 0!==window.XDomainRequest}]);$((function(){$(document).on("click","#platform-navigation .typeahead, #platform-navigation .no-results",(function(e){e.stopPropagation()})),$(document).on("keyup keydown focus","#platform-header .typeahead",(function(){var e=$(this),t=e.parents(".dropdown-menu"),o=t.find(".selector").not(".no-results");o.show();var n=o.filter((function(){var t=$(this).find("a").attr("data-full-name").toLowerCase(),o=e.val().toLowerCase();return-1===t.indexOf(o)})),i=o.length===n.length?"show":"hide";t.find(".no-results")[i](),n.hide()})),$(document).on("hide.bs.dropdown","#platform-navigation .dropdown",(function(){$(this).find(".dropdown-options").scrollTop(0)})),$(document).on("hidden.bs.dropdown","#platform-navigation .dropdown",(function(){var e=$(this),t=e.find(".selector-search input"),o=e.find(".selector").not(".no-results"),n=e.find(".no-results");t.val(""),o.show(),n.hide()})),$(document).on("shown.bs.dropdown","#platform-navigation .dropdown",(function(){$(this).find(".selector-dropdown .selector").not(".no-results").each((function(){for(var e=$(this),t=e.find("a"),o=e.outerHeight(),n=t.text();t.outerHeight()>o;)n=n.substr(0,n.length-3),t.text((function(){return n+"..."}))}))}))}));var MUI=MUI||{};$((function(){function e(e){return void 0===e.queryParams?{menus:e}:(_.forEach(e.menus,(function(t){_.forEach(t,(function(t){t.href+=e.queryParams}))})),e)}function t(e){var t=_.map(e,(function(e){var t=e.selected?"available selected selector":"available selector";return $("<li />").addClass(t).append($("<a />").attr({href:e.href,"data-full-name":e.name}).text(e.name.slice(0,150)))}));return _.reduce(t,(function(e,t){return e.add(t)}))}function o(e){var o=_.map(e.menus,(function(o){var n=e.labels&&e.labels.subject_header||"&nbsp;",i=e.labels&&e.labels.search_placeholder||MUI.searchPlaceholders&&MUI.searchPlaceholders.subjects||"",a=_.findWhere(o,{selected:!0}),r=t(o),s=$("<li />",{class:"dropdown",id:"app_"+n.toLowerCase()}),c=$("<a />",{class:"dropdown-toggle",role:"button",id:"app_"+n.toLowerCase()+"_menu",href:"#","data-toggle":"dropdown"}).append('<span class="nav-label">'+n+"</span>").append($('<span class="nav-text"/>').text(a.name).append('<span class="caret"/>')),l=$("#platform-navigation .no-results:first").clone(),d=$("<li />"),u=$("<ul />",{class:"dropdown-options",html:r});d.append(u),u.prepend(l);var p=$("<ul />",{class:"dropdown-menu selector-dropdown",html:d}),m=$("<li />",{class:"selector-search"}),f=$("<input />",{type:"text",class:"typeahead form-control",placeholder:i});return p.prepend(m.append(f)),s.append(c).append(p)}));return _.reduce(o,(function(e,t){return e.add(t)}))}MUI.init=function(){MUI.userInactivityUpdater.init(),MUI._checkmateInternal.triggerEvent("checkmate:ready")},MUI._checkmateInternal={},MUI._checkmateInternal.triggerEvent=function(e){var t,o="function"==typeof window.CustomEvent?new CustomEvent(e):((t=document.createEvent("CustomEvent")).initCustomEvent(e,!1,!1,null),t);window.dispatchEvent(o)},MUI._checkmateInternal.redirect=function(e){window.location.href=e},MUI.userInactivityUpdater={init:function(){var e={minTimeout:6e5,maxTimeout:6e5};$.PeriodicalUpdater(Routes.timeout_path(),e,(function(e){"expired"===e&&(AMPRIDATVIR.reset(),window.location.href=Routes.logout_path())}))}},MUI.currentlySelectedEntities=function(){return MUI._currentlySelectedEntities},MUI.createPostActionMenus=function(t){if(window?.MUI?._context_data){const e=new CustomEvent("customDropdownContext",{detail:t});document.dispatchEvent(e)}else{o(e(t)).appendTo("#platform-navigation")}},MUI.parseCSelections=function(e){var t=new RegExp(/c_selections=([^\&]+)/g).exec(e);return decodeURIComponent(t?t[1]:"")},MUI.parseOldRole=function(e){var t=new RegExp(/old_role=([^\&]+)/g).exec(e);return decodeURIComponent(t?t[1]:"")},MUI.currentCSelections=function(){return MUI.updatedCSelections},MUI.navigateSpaAction=function(e,t){var o=$.Deferred(),r="/checkmate/spa_navigation/"+location.pathname.match(/apps\/(.+?)\//)[1]+"/"+e+"?old_c_selections="+MUI.currentCSelections();return n(),$.get(r,(function(n){if(n.redirect)location=n.redirect;else if(n.error)i(),o.reject(n.error);else if(n.no_available_ams_action)i(),$("#ams_speedbump").modal("show");else if(n.blocked_action)i(),$("#blocked_action_speedbump").modal("show");else if(n.no_available_study_action)i(),$("#blocked_study_speedbump").modal("show");else{if(void 0!==MUI._context_data&&void 0!==MUI.spaGroupOid){const t=new CustomEvent("checkmateUpdateContext",{detail:{context:n.spa_updated_context}});document.dispatchEvent(t),n&&n.c_selections?MUI.updatedCSelections=n.c_selections:MUI.updatedCSelections=e}else $(".mcc-sandman#nav-header").replaceWith(n.navigation_bar);var r={spa:"change"},s=decodeURIComponent(location.search).substr(1).split("&"),c=-1;s.some((function(e,t){if(0===e.indexOf("c_selections"))return c=t,!0})),s.splice(c,1,"c_selections="+e),t?history.pushState(r,"new spa nav",location.pathname+"?"+s.join("&")+location.hash):history.replaceState(r,"new spa nav",location.pathname+"?"+s.join("&")+location.hash),a(),"undefined"!=typeof pendo&&pendo.isReady()&&n.pendo_spa&&pendo.updateOptions(n.pendo_spa),o.resolve(e),i()}})).fail((function(){i(),o.reject("failed")})),o.promise()},MUI.onNavUpdated=function(e){MUI.spaCallback=e,window.onpopstate=async function(e){if("change"===e.state?.spa&&MUI.updatedCSelections!==MUI.parseCSelections(decodeURIComponent(location.search))){const e=MUI.parseCSelections(location.href);await MUI.navigateSpaAction(e),MUI.spaCallback(null,e)}}},MUI.init();var n=function(){$("#cover").show()},i=function(){$("#cover").hide()},a=function(){var e=MUI.spaGroupOid;e&&($(".dropdown-options").on("click",(function(t){var o=$(t.target),n=MUI.parseCSelections(o.attr("href"));0===o.parents("#actions").length||o.data("spaGroupOid")===e?(t.preventDefault(),MUI.spaCallback?MUI.navigateSpaAction(n,!0).then((function(){MUI.spaCallback(null,n)})).fail((function(e){MUI.spaCallback(e,n)})):window.location.href=o.attr("href")):r(t)})),$("#ams_trigger").prop("onclick",null).off("click"),$("li#actions ul.dropdown-options li").prop("onclick",null).off("click"),$("a.study_selector_link").prop("onclick",null).off("click")),MUI.app_selections&&MUI.createPostActionMenus(MUI.app_selections),document.getElementById("ampridatvir_error_page")&&AMPRIDATVIR.sendTraces(),$("#logout").on("click",(function(){AMPRIDATVIR.reset()}))},r=function(e){if("false"!==MUI.ffC2d2Mvp){e.preventDefault();var t=$(e.target),o=t.attr("href"),a=MUI.parseCSelections(o),r=""===a;if(r){var s=new RegExp(/(com:mdsol:actions:)(\w+)/g),c=JSON.parse(t.attr("data-context")).uuid;a=MUI.currentCSelections().replace(s,"$1"+c)}var l="/checkmate/check_blocked_action/"+a;n(),$.get(l,(function(e){e.blocked_action?(i(),$("#blocked_action_speedbump").modal("show")):e.error?(i(),console.log(e.error)):(r&&i(),window.location.href=t.attr("href"))})).fail((function(){i()}))}};$(".speedbump_redirect").on("click",(function(){MUI&&MUI._context_data?location=MUI._imedidata_url:location=MUI.imedidata_url})),$("#ams_trigger").on("click",(function(e){e.preventDefault();var t="/checkmate/redirect/all_my_studies/"+location.pathname.match(/apps\/(.+?)\//)[1]+"/"+MUI.parseCSelections($(e.target).attr("href"));n(),$.get(t,(function(e){e.redirect?location=e.redirect:(i(),$("#ams_speedbump").modal("show"))})).fail((function(){i()}))})),$("li#actions ul.dropdown-options li").on("click",(function(e){r(e)})),$("a.study_selector_link").on("click",(function(e){if("false"!==MUI.ffC2d2Mvp){e.preventDefault();var t=$(e.target).attr("href"),o="/checkmate/check_blocked_study/"+MUI.parseCSelections(t)+"?old_role="+MUI.parseOldRole(t);n(),$.get(o,(function(e){e.redirect?location=e.redirect:e.no_available_study_action?(i(),$("#blocked_study_speedbump").modal("show")):(i(),e.error&&console.log(e.error))})).fail((function(){i()}))}})),$(window).on("load",a),$(window).on("unload",(function(){AMPRIDATVIR.addTrace()})),$('a[href="#"]',"#platform-header").on("click",(function(e){e.preventDefault()}));var s=$(".client-logos"),c=$(".client-division-scheme-logo").children().first(),l=$("#mcc-study-logo");!(l.length&&"none"!==l.css("display"))&&c.length&&"none"===c.css("display")&&s.css("display","none")})),function(e,t,o){function n(e){return!e.startsWith("http")||e.startsWith(window.location.origin)}const i="MCC-Current-CSelections";XMLHttpRequest.prototype.open=function(){const t=arguments[1];try{n(t)&&(this.__checkmate_xhr_url=t)}catch(e){console.warn("Could not record request URL in XMLHttpRequest",e)}return e.apply(this,arguments)},XMLHttpRequest.prototype.send=function(){if(!this.__checkmate_xhr_url)return t.apply(this,arguments);try{MUI.updatedCSelections&&this.setRequestHeader(i,MUI.updatedCSelections)}catch(e){console.warn("Could not set the "+i+" header on a XMLHttpRequest",e)}return t.apply(this,arguments)},o&&(window.fetch=function(){const e=arguments[0]instanceof Request?arguments[0].url:arguments[0],t=arguments[0]instanceof Request?arguments[0]:arguments[1]||{};if(!n(e)||!MUI.updatedCSelections)return o.apply(this,arguments);try{t instanceof Request||t.headers instanceof Headers?t.headers.set(i,MUI.updatedCSelections):t.headers=Object.assign({},t.headers||{},{
[i]:MUI.updatedCSelections})}catch(e){return console.warn("Could not set the "+i+" header on a fetch request",e),o.apply(this,arguments)}return o.apply(this,t instanceof Request?[t]:[e,t])})}(XMLHttpRequest.prototype.open,XMLHttpRequest.prototype.send,window.fetch);